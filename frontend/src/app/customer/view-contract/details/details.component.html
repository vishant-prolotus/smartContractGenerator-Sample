<app-header></app-header>
<section class="admin-dashbord">
  <div class="container-fluid">
      <app-company-sidemenu></app-company-sidemenu>
          <div class="col-sm-9 right-side">
          <div class="graph-tab customer-das manage-dash-temp" *ngIf="ContractDetails">
                <div class="row">
                    <div class="col-sm-9">
                        <h3>Contract Details</h3>
                    </div>
                        <div class="col-sm-3"><button (click)="backClicked()">Back</button></div>
                </div>
              
                <div class="row">
                    <div class="col-sm-6">
                        <label>Contract Name :</label>
                        <span>{{ ContractDetails.Contract_Name }}</span>
                    </div>
                    <div class="col-sm-6">
                        <label>Price ( ETH ) :</label>
                        <span>{{ ContractDetails.Contract_Price }}</span>
                    </div>              
                </div>
              
                <div class="row">
                    <div class="col-sm-6">
                        <label >Customer Name :</label>
                        <span>{{ ContractDetails.customer.first_name }}</span>
                    </div>
                    <div class="col-sm-6">
                        <label>Customer Email :</label>
                        <span>{{ ContractDetails.customer.Email }}</span>
                
                    </div>
                </div>
              
                <div class="row">
                    <div class="col-sm-6">
                        <label >Start Date :</label>
                        <span>{{ ContractDetails.Contract_StartDate  | date: 'mediumDate' }}</span>
                    </div>
                    <div class="col-sm-6">
                        <label>End Date :</label>
                        <span>{{ ContractDetails.contract_end_date | date: 'mediumDate' }}</span>              
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-6">
                        <label >Status :</label>
                        <span>{{ ContractDetails.status == 0 ? 'In Progress                                                                                                                                                                                                                                                                                                                                                                                                                     ':'Complete' }}</span>
                    </div>                   
                </div>
                <div class="row">
                    <div class="col-sm-9">                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
                        <h3>Milestone(s)</h3>
                    </div>
                </div>
              <div class="panel-group" *ngFor="let milestone of ContractDetails.milestones; let row_no = index">
                <div class="panel panel-default">
                    <a data-toggle="collapse" href="#collapse{{row_no + 1}}">
                        <div class="panel-heading" style="background: lightgray">

                              <h4 class="panel-title">
                                  {{milestone.name =='' ? 'Milestone ' + (row_no + 1)   : milestone.name }}
                              </h4>
                        </div>
                    </a>                                                                                                                                                                
                  <div id="collapse{{row_no + 1}}" class="panel-collapse in" style='padding: 10px;' aria-expanded="true">
                    <div class="row">
                        <div class="col-sm-6">
                            <label >Name :</label>
                            <span>{{milestone.name =='' ? 'Milestone ' + (row_no + 1)   : milestone.name }}</span>
                        </div>
                        <div class="col-sm-6">
                            <label>Status :</label>
                            <span>{{ milestone.milestone_status.status_for_customer }}</span>              
                        </div>
                    </div>
                      
                    <div class="row">
                        <div class="col-sm-6">
                            <label >Start Date :</label>
                            <span>{{ milestone.Start_Date  | date: 'mediumDate' }}</span>
                        </div>
                        <div class="col-sm-6">
                            <label>End Date :</label>
                            <span>{{ milestone.End_Date | date: 'mediumDate'  }}</span>              
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-sm-6">
                            <label >Execution of Work :</label>
                            <span><p>{{ milestone.Milestone_Work_execution }}</p></span>
                        </div>
                        <div class="col-sm-6">
                            <label>Schedule :</label>
                            <span><p>{{ milestone.Milestone_schedule }}</p></span>
                        </div>
                    </div>
                      
                    <div class="row">
                        <div class="col-sm-6">
                            <label >Taxes ( % ) :</label>
                            <span>{{ milestone.taxes }}</span>
                        </div>
                        <div class="col-sm-6">
                            <label>Fees ( ETH ) :</label>
                            <span>{{ milestone.Milestone_fee }}</span>              
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-sm-6">
                            <label >Penalties ( % ) :</label>
                            <span>{{ milestone.penalties }}</span>
                        </div>
                        <div class="col-sm-6">
                            <label>Payment Status :</label>
                            <span>{{ milestone.Payment_Status == 0 ? 'Pending':'Complete' }}</span>
                        </div>
                    </div>
                      
                      <div class="row">
                        <div class="col-sm-12">
                            <label>Comments :</label>
                            <span><p>{{ milestone.comments }} </p></span>
                        </div>
                    </div>
                      
                  </div>
                </div>
              </div>
          </div>
          </div>
      </div>
          <a href="#" class="footer-logo"><img src="assets/images/footer-logo.png" alt="logo-footer"/></a>
  </section>
<app-footer></app-footer>